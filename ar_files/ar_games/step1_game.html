<!DOCTYPE html>
<html lang="en">
<head>
  <link rel="shortcut icon" href="#" />
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Etape 1 - jeu</title>
    <link href="https://fonts.googleapis.com/css?family=Roboto|Work+Sans:400,600" rel="stylesheet">
    <link href='http://fonts.googleapis.com/css?family=Lato:400,700' rel='stylesheet' type='text/css'>
    <link href="https://fonts.googleapis.com/css2?family=Roboto+Mono:wght@200&display=swap" rel="stylesheet" />


    <!-- AFRAME -->
    <script src="https://aframe.io/releases/1.3.0/aframe.min.js"></script>
    <script src="https://unpkg.com/aframe-look-at-component@0.8.0/dist/aframe-look-at-component.min.js"></script>
    <script src="https://unpkg.com/aframe-event-set-component@5.x.x/dist/aframe-event-set-component.min.js"></script>
    
    <!-- AR.js -->
    <script src="https://raw.githack.com/AR-js-org/AR.js/master/aframe/build/aframe-ar-nft.js"></script>
    <script src="https://raw.githack.com/donmccurdy/aframe-extras/master/dist/aframe-extras.loaders.min.js"></script>


    <script src='https://cdnjs.cloudflare.com/ajax/libs/ajaxify/8.2.3/ajaxify.js' integrity='sha512-jipua8AH9JbOGVVx5NLMMm8UXqdF7RG+8kVIiVfjniUbMdfPlragzf32/wQ4N9g4d+m5euXVIKxX3h2g4auqSQ==' crossorigin='anonymous'></script>
    <script src='https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js' integrity='sha512-894YE6QWD5I59HgZOGReFYm4dnWc1Qt5NtvYSaNcOP+u1T9qYdvdihz0PPSiiqn/+/3e7Jo4EaG7TubfWGUrMQ==' crossorigin='anonymous'></script>
    <script src="https://code.jquery.com/ui/1.12.1/jquery-ui.js"></script>
    
    <link rel="stylesheet" href="../ar_css/game.css">
    <link rel="stylesheet" href="../../css/menu.css">
</head>
<body style="margin: 0; overflow: hidden;">
  <script src="step1_game.js"></script>
  <a-scene
      id="game1"
      vr-mode-ui="enabled: false"
      embedded
      arjs="trackingMethod: best; sourceType: webcam; debugUIEnabled: false;
      sourceWidth:1280; sourceHeight:960; displayWidth:1280; displayHeight: 960;"

      renderer="logarithmicDepthBuffer: true;"
    >

    <a-assets>
      <a-asset-item id="pin" src="../ar_gltf/step1/pin.glb"></a-asset-item>
      
      <!-- <a-asset-item id="calcaire" src="ar_gltf/step1/calcaire/calcaire.glb"></a-asset-item>
      <a-asset-item id="gneiss-texture" src="ar_gltf/step1/gneiss/gneiss.glb"></a-asset-item>
      <audio id="click-sound" src="ar_assets/sounds/click.ogg"></audio> -->

    </a-assets>
    <a-camera gps-camera rotation-reader look-controls-enabled='false'
    arjs-look-controls="smoothingFactor: 1" simulateLatitude="1">
      <!-- on ajoute un curseur pour intéragir avec les objets.-->
      <a-cursor
        id="cursor"
        animation__click="property: scale; startEvents: click; from: 0.1 0.1 0.1; to: 1 1 1; dur: 150" 
        animation__fusing="property: fusing; startEvents: fusing; from: 1 1 1; to: 0.1 0.1 0.1; dur: 150" 
        event-set__mouseenter="_event: mouseenter; color: springgreen" 
        event-set__mouseleave="_event: mouseleave; color: grey"
        color="grey"></a-cursor>
    </a-camera>

  </a-scene>
  <div class="centered">
    <button id="gneissBtn" class="gneiss-btn" onclick="getBtnId(this.id)">Gneiss</button>
    <button id="calcaireBtn" class="calcaire-btn" onclick="getBtnId(this.id)">Calcaire</button>
    <button id="molasseBtn" class="molasse-btn" onclick="getBtnId(this.id)">Molasse</button>
  </div>
    <div class="inst-tab">
      <a href="javascript:" class="btnx">&times;</a>
      <div class="molasse-img"></div>
      <div class="gneiss-img"></div>
      <div class="calcaire-img"></div>
        <div class="instructions">
          Bienvenue dans ce jeu de l'étape 1. <br><br>
          Rendez-vous tout d'abord devant la porte de la cathédrale. <br>
          Vous découvrirez, une fois cette fenêtre fermée,
          trois localisations qui représentent les trois types de roches
          utilisées pour les constructions dans cette région, que vous avez vu précédemment :<br>
          <ul>
              <li>
                  La molasse
              </li>
              <li>
                  Le gneiss
              </li>
              <li>
                  Le calcaire 
              </li>
          </ul>
          Le but du jeu est simple: rendez-vous à l'une des localisation indiquée par un
          marqueur. Une fois sur le lieu de rendez-vous, observez attentivement la roche
          et tentez de deviner de quel type elle est.
        </div>
      <button id="start-btn" class="start-btn">C'est parti !</button>
      <button id="step1-btn" class="step1-btn">Retour à l'étape 1</button>
      <button id="itin-btn" class="itin-btn">Retour à l'itinéraire</button>
    </div>
    <div id="btn">
      <div id="top"></div>
      <div id="middle"></div>
      <div id="bottom"></div>
    </div>
    <div id="box">
      <div id="items">
        <div class="item" id="home-menu">Itinéraire</div>
        <hr/>
        <div class="item" id="back-menu">Retour à l'étape</div>
        <hr/>
        <div class="item" id="inst-menu">Instructions</div>
        <hr/>
      </div>
      <div id="credit">
        <hr/>
        <div class="item" id="credit-menu">Crédits</div>
        <hr/>
        <div class="item" id="geoguide-menu">GéoGuide UNIL</div>
      </div>
    </div>
    <div id="userScore" class="score">
      Score: 0/3
    </div>
    <div id="dialog">
      Blablabla
    </div>
    <script src="../../js/menu.js"></script>
</body>
</html>