<!-- CE STEP EST UN EXEMPLE POUR LE NFT-->

<!DOCTYPE html>
<html>
  <head>
    <link rel="shortcut icon" href="#" />
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Etape 2 - La Louve</title>
    <link href="https://fonts.googleapis.com/css?family=Roboto|Work+Sans:400,600" rel="stylesheet">
    <link href='http://fonts.googleapis.com/css?family=Lato:400,700' rel='stylesheet' type='text/css'>
    <link href="https://fonts.googleapis.com/css2?family=Roboto+Mono:wght@200&display=swap" rel="stylesheet" />


    <!-- AFRAME -->
    <script src="https://aframe.io/releases/1.3.0/aframe.min.js"></script>
    <script src="https://unpkg.com/aframe-look-at-component@0.8.0/dist/aframe-look-at-component.min.js"></script>
    <script src="https://unpkg.com/aframe-event-set-component@5.x.x/dist/aframe-event-set-component.min.js"></script>

    <!-- AR.js -->
    
    <script src="https://raw.githack.com/AR-js-org/AR.js/master/aframe/build/aframe-ar-nft.js"></script><script src="https://raw.githack.com/jeromeetienne/AR.js/master/aframe/build/aframe-ar.min.js"></script>
    <script src="https://raw.githack.com/donmccurdy/aframe-extras/master/dist/aframe-extras.loaders.min.js"></script>
    <script>
        THREEx.ArToolkitContext.baseURL = 'https://raw.githack.com/jeromeetienne/ar.js/master/three.js/'
    </script>

    <script src='https://cdnjs.cloudflare.com/ajax/libs/ajaxify/8.2.3/ajaxify.js' integrity='sha512-jipua8AH9JbOGVVx5NLMMm8UXqdF7RG+8kVIiVfjniUbMdfPlragzf32/wQ4N9g4d+m5euXVIKxX3h2g4auqSQ==' crossorigin='anonymous'></script>
    <script src='https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js' integrity='sha512-894YE6QWD5I59HgZOGReFYm4dnWc1Qt5NtvYSaNcOP+u1T9qYdvdihz0PPSiiqn/+/3e7Jo4EaG7TubfWGUrMQ==' crossorigin='anonymous'></script>
    <script src="https://code.jquery.com/ui/1.12.1/jquery-ui.js"></script>
    
    <link rel="stylesheet" href="ar_css/ar.css">
    <link rel="stylesheet" href="../css/menu.css">
  
  </head>

  <body style="margin : 0px; overflow: hidden;">
    <script src="ar_js/ar_step2.js"></script>
    
    

    <!-- a-frame scene -->
    <a-scene
    id="step2"
    vr-mode-ui="enabled: false"
    embedded
    arjs="trackingMethod: best; sourceType: webcam; debugUIEnabled: false;
    sourceWidth:1280; sourceHeight:960; displayWidth:1280; displayHeight: 960;"

    renderer="logarithmicDepthBuffer: true;"
    >

    <a-assets>
      <a-asset-item id="river" src="ar_gltf/river/FINAL_LOWPOLY_RIVER2.glb"></a-asset-item>
      <a-asset-item id="pin" src="ar_gltf/step1/pin.glb"></a-asset-item>
      <img id="info1" src="ar_assets/img/info1_etape2.png">
      <img id="info2" src="ar_assets/img/info2_etape2.png">
      <img id="info3" src="ar_assets/img/info3_etape2.png">
      <img id="info4" src="ar_assets/img/info4_etape2.png">

    </a-assets>
      
      
      <!-- pour le nft, il faut aller cherhcher le lien directement en ligne, ne charge pas sinon-->
      <!--  -->
      
      <!-- static camera that moves according to the device movemenents -->
      <a-camera gps-camera rotation-reader look-controls-enabled='false'
    arjs-look-controls="smoothingFactor: 1">
    <a-cursor
          id="cursor"
          animation__click="property: scale; startEvents: click; from: 0.1 0.1 0.1; to: 1 1 1; dur: 150" 
          animation__fusing="property: fusing; startEvents: fusing; from: 1 1 1; to: 0.1 0.1 0.1; dur: 150" 
          event-set__mouseenter="_event: mouseenter; color: springgreen" 
          event-set__mouseleave="_event: mouseleave; color: grey"
          color="grey"></a-cursor>
      </a-camera>
    </a-scene>
    <div class="centered">
      <button id="change" class="change-btn" data-action="change">Info suivante</button>
    </div>
    <div id="btn">
      <div id="top"></div>
      <div id="middle"></div>
      <div id="bottom"></div>
    </div>
    <div id="box">
      <div id="items">
        <div class="item" id="home-menu">Itinéraire</div>
        <hr/>
        <div class="item" id="inst-menu">Instructions</div>
        <hr/>
        <div class="item" id="begin-menu">Retour au départ</div>
      </div>
      <div id="credit">
        <hr/>
        <div class="item" id="credit-menu">Crédits</div>
        <hr/>
        <div class="item" id="geoguide-menu">GéoGuide UNIL</div>
      </div>
    </div>
    <div id="inst-tab" class="inst-tab">
      Bienvenue dans l'étape 2 ! <br><br>
      Vous découvrirez ici l'histoire de la place de la Riponne et de la Louve, une rivière qui
      a connu de nombreux boulversements au fil de son existence.
      <p>Si ce n'est pas déjà le cas, rendez-vous sur la place de la Madeleine,
      qui surplombe la place de la Riponne et commencez à découvrir l'histoire
      de cette rivière.
      </p>
      <div class="jeu-btn">
          <button id="jeu-btn" class="itin-btn">Je suis sur place ! C'est parti !</button>
      </div>
      <div class="sentier-btn">
          <button id="sentier-btn" class="itin-btn">Retour à l'itinéraire</button>
      </div>
    </div>
  <script src="../js/menu.js">  </script>
  </body>
</html>