<!DOCTYPE html>
<html>
  <head>
    <link rel="shortcut icon" href="#" />
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Image based tracking AR.js demo</title>
    <!-- import aframe and then ar.js with image tracking / location based features -->
    <!-- <script src="ar_js/ar_step1.js"></script> -->
    <script src="https://aframe.io/releases/1.3.0/aframe.min.js"></script>
    <script src="https://raw.githack.com/AR-js-org/AR.js/master/aframe/build/aframe-ar-nft.js"></script><script src="https://raw.githack.com/jeromeetienne/AR.js/master/aframe/build/aframe-ar.min.js"></script>
    <script src="https://raw.githack.com/donmccurdy/aframe-extras/master/dist/aframe-extras.loaders.min.js"></script>
    <script src="https://unpkg.com/aframe-look-at-component@0.8.0/dist/aframe-look-at-component.min.js"></script>
    <script src="https://unpkg.com/aframe-event-set-component@5.x.x/dist/aframe-event-set-component.min.js"></script>
    <!-- style for the loader -->
    <link rel="stylesheet" href="ar_css/ar.css"/>
    <link rel="stylesheet" href="../css/menu.css"/>
    <script>
      THREEx.ArToolkitContext.baseURL = 'https://raw.githack.com/jeromeetienne/ar.js/master/three.js/'
    </script>
    <script src='https://cdnjs.cloudflare.com/ajax/libs/ajaxify/8.2.3/ajaxify.js' integrity='sha512-jipua8AH9JbOGVVx5NLMMm8UXqdF7RG+8kVIiVfjniUbMdfPlragzf32/wQ4N9g4d+m5euXVIKxX3h2g4auqSQ==' crossorigin='anonymous'></script>
    <script src='https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js' integrity='sha512-894YE6QWD5I59HgZOGReFYm4dnWc1Qt5NtvYSaNcOP+u1T9qYdvdihz0PPSiiqn/+/3e7Jo4EaG7TubfWGUrMQ==' crossorigin='anonymous'></script>
    <script src="https://code.jquery.com/ui/1.12.1/jquery-ui.js"></script>
  
  </head>

  <body style="margin : 0px; overflow: hidden;">

    
    <!-- écran de chargement pour charger le nft-->
    <div class="arjs-loader">
      <div>Loading</div>
      <div class="spinner-sector spinner-sector-red"></div>
      <div class="spinner-sector spinner-sector-blue"></div>
      <div class="spinner-sector spinner-sector-green"></div>
    </div>

    <!-- a-frame scene -->
    <a-scene
      id="etape3"
      vr-mode-ui="enabled: false;"
      renderer="logarithmicDepthBuffer: true; antialias: true; alpha: true;"
      embedded
      arjs="trackingMethod: best; sourceType: webcam;debugUIEnabled: false;"
      >
      <a-assets>
        <img id="info1" src="ar_assets/etape3/arret1.png">
        <img id="info2" src="ar_assets/etape3/arret2.png">
        <img id="info3" src="ar_assets/etape3/arret3.png">
        
        <img id="img2" src="ar_assets/etape3/img2.jpeg">
        <img id="img3" src="ar_assets/etape3/img3.jpeg">
      </a-assets>
      <script src="ar_js/ar_step3.js"></script>
      
      
      <!-- pour le nft, il faut aller cherhcher le lien directement en ligne, ne charge pas sinon-->
      <!--  -->
      
      <!-- MARQUEUR 1 -->
      

      <!-- static camera that moves according to the device movemenents -->
      <a-camera>
        <a-cursor
        id="cursor"
        animation__click="property: scale; startEvents: click; from: 0.1 0.1 0.1; to: 1 1 1; dur: 150" 
        animation__fusing="property: fusing; startEvents: fusing; from: 1 1 1; to: 0.1 0.1 0.1; dur: 150" 
        event-set__mouseenter="_event: mouseenter; color: springgreen" 
        event-set__mouseleave="_event: mouseleave; color: grey"
        color="grey"></a-cursor>
      </a-camera>
    </a-scene>
    <div class="centered">
      <button id="change" class="change-btn" data-action="change">Image suivante</button>
    </div>
    <div id="btn">
      <div id="top"></div>
      <div id="middle"></div>
      <div id="bottom"></div>
    </div>
    <div id="box">
      <div id="items">
        <div class="item" id="home-menu">Itinéraire</div>
        <hr/>
        <div class="item" id="inst-menu">Instructions</div>
        <hr/>
        <div class="item" id="begin-menu">Retour au départ</div>
      </div>
      <div id="credit">
        <hr/>
        <div class="item" id="credit-menu">Crédits</div>
        <hr/>
        <div class="item" id="geoguide-menu">GéoGuide UNIL</div>
      </div>
    </div>
    <div id="inst-tab" class="inst-tab">
      Bienvenue dans l'étape 3 ! <br><br>
      Vous suivrez ici l'histoire de la Louve et apercevrez, ou bout de cette étape,
      un résidu de la Louve qui passe actuellement sous la Riponne.<br><br>
      Afin de trouver la Louve sous-terraine, des images vous seront données qui correspondent
      à des inscriptions sur les murs. Trouvez ces inscriptions et filmez les avec votre téléphone. Un point vous est attribué pour chaque image trouvée.
      Trouvez les trois images pour arriver jusqu'à la Louve. Pour commencer, rendez-vous à l'entrée du parking de la Riponne, juste à côté de l'entrée du métro.<br><br>
      Bonne chance !
      <div class="jeu-btn">
        <button id="jeu-btn" class="itin-btn">C'est parti !</button>
      </div>
      <div class="seniter-btn">
        <button id="sentier-btn" class="itin-btn">Retour à l'itinérare</button>
      </div>
    </div>
    <div class="img-tab">
      Voici votre première inscription murale à trouver ! Observez la bien, souvenez-vous en, puis,
      dès que vous la trouvez, filmez la avec votre téléphone !<br><br>
      <img src="ar_assets/etape3/img1.jpeg" class="img"> 
      <div class="jeu-btn">
        <button id="img-btn" class="itin-btn">C'est parti !</button>
      </div>
    </div>
    <div id="userScore" class="score">
      Images trouvées : 0/3
    </div>
    <script src="../js/menu.js"></script>
  </body>
</html>