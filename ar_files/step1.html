<!DOCTYPE html>
<html>
  <head>
    <link rel="shortcut icon" href="#" />
    <meta name="viewport" content="width=device-width">
    <meta charset="utf-8" content="minimal-ui, IE=edge" http-equiv="X-UA-Compatible"/>

    <title>Etape 1</title>
    <link href="https://fonts.googleapis.com/css2?family=Roboto+Mono:wght@200&display=swap" rel="stylesheet" />

    <!-- AFRAME -->
    <script src="https://aframe.io/releases/1.3.0/aframe.min.js"></script>
    <script src="https://unpkg.com/aframe-template-component@3.x.x/dist/aframe-template-component.min.js"></script>
    <script src="https://unpkg.com/aframe-look-at-component@0.8.0/dist/aframe-look-at-component.min.js"></script>
    <script src="https://unpkg.com/aframe-layout-component@4.x.x/dist/aframe-layout-component.min.js"></script>
    <script src="https://unpkg.com/aframe-event-set-component@5.x.x/dist/aframe-event-set-component.min.js"></script>
    <script src="https://unpkg.com/aframe-proxy-event-component@2.1.0/dist/aframe-proxy-event-component.min.js"></script>

    <!-- AR.js -->

    <script src="https://raw.githack.com/AR-js-org/AR.js/master/aframe/build/aframe-ar-nft.js"></script>
    <script src="ar_js/ar_js_raw/gestures.js"></script>
    <script src='https://cdnjs.cloudflare.com/ajax/libs/ajaxify/8.2.3/ajaxify.js' integrity='sha512-jipua8AH9JbOGVVx5NLMMm8UXqdF7RG+8kVIiVfjniUbMdfPlragzf32/wQ4N9g4d+m5euXVIKxX3h2g4auqSQ==' crossorigin='anonymous'></script>
    <script src='https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js' integrity='sha512-894YE6QWD5I59HgZOGReFYm4dnWc1Qt5NtvYSaNcOP+u1T9qYdvdihz0PPSiiqn/+/3e7Jo4EaG7TubfWGUrMQ==' crossorigin='anonymous'></script>
    
    <link rel="stylesheet" href="ar_css/ar.css"/>
    <link rel="stylesheet" href="../css/menu.css"/>
  </head>

  <body style="margin: 0; overflow:hidden;">
    <script src="ar_js/ar_step1.js" defer="defer"></script>

    <a-scene
      id="step1"
      vr-mode-ui="enabled: false"
      embedded
      arjs="trackingMethod: best; sourceType: webcam; debugUIEnabled: false;"

      renderer="logarithmicDepthBuffer: true;"
      gesture-detector
    >

    <a-assets>
      <a-asset-item id="molasse" src="ar_gltf/step1/molasse/molasse.glb"></a-asset-item>
      <a-asset-item id="calcaire" src="ar_gltf/step1/calcaire/calcaire.glb"></a-asset-item>
      <a-asset-item id="gneiss-texture" src="ar_gltf/step1/gneiss/gneiss.glb"></a-asset-item>
      <audio id="click-sound" src="ar_assets/sounds/click.ogg"></audio>

    </a-assets>
    
      <a-camera>
        <!-- on ajoute un curseur pour intéragir avec les objets.-->
        <a-cursor
          id="cursor"
          animation__click="property: scale; startEvents: click; from: 0.1 0.1 0.1; to: 1 1 1; dur: 150" 
          animation__fusing="property: fusing; startEvents: fusing; from: 1 1 1; to: 0.1 0.1 0.1; dur: 150" 
          event-set__mouseenter="_event: mouseenter; color: springgreen" 
          event-set__mouseleave="_event: mouseleave; color: grey"
          color="grey"></a-cursor>
      </a-camera
      rotation-reader 
      arjs-look-controls="smoothingFactor: 0.1">

    </a-scene>
    <div id="button" class="centered">
      <button id="return-btn" class="return-btn">Retourner à l'itinéraire</button>
    </div>
    <div id="information" class="info">
      <a href="javascript:" class="btn">&times;</a>
      <div class="card-image"></div>
      <div id="info_content" class="infoContent">
      </div>
      <button id="return-btn2" class="back-btn">Retrouner à l'itinéraire</button>
      <button id="game-btn" class="game-btn">Aller au jeu</button>
    </div>
    <div id="btn">
      <div id="top"></div>
      <div id="middle"></div>
      <div id="bottom"></div>
  </div>
  <div id="box">
      <div id="items">
          <div class="item"><b>Étape 1</b></div>
          <br>
          <div class="item" id="home-menu">Itinéraire</div>
          <hr/>
          <div class="item" id="inst-menu">Instructions</div>
          <hr/>
          <div class="item" id="begin-menu">Retour au départ</div>
      </div>
  </div>
  <div id="inst-tab" class="inst-tab">
    Bienvenue dans l'étape 1 ! <br><br>
    Vous découvrirez ici les différentes roches utilisées dans la plupart des constructions à Lausanne, surtout ici, à la Cité.
    Les matériaux de construction de la plupart des édifices de la Cité proviennent
    des carrières de molasse lausannoise, dite molasse grise de Lausanne. Ces carrières ont été
    exploitées par le passé autour du vieux bourg et des vallées du Flon et de la Louve.
    <br>
    <p>
      Vous découvrirez, en fermant cette fenêtre, les trois roches les plus utilisées pour les constructions à Lausanne.
      Le but de cette étape est de vous informez quant à ces trois roches, en visant chacune d'elle pour afficher plus d'informations.
      Une fois que vous pensez être assez informés, cliquez sur "Jouer au jeu !" et partez à la recherche de ces trois roches autours de la Cathédrale.
      Bonne chance !
    </p>
    <div class="jeu-btn">
      <button id="jeu-btn" class="itin-btn">C'est parti !</button>
    </div>
    <div class="sentier-btn">
      <button id="sentier-btn" id="itin-btn">Retour à l'itinéraire</button>
    </div>
  </div>
    <script src="../js/menu.js"></script>
  </body>
</html>


